<h1 id=\"12-pytorch\">1.2 Pytorch环境搭建</h1>\n<p>PyTorch的安装十分简单，根据<a href=\"https://pytorch.org/\">PyTorch官网</a>，对系统选择和安装方式等灵活选择即可。\n这里以<a href=\"https://www.anaconda.com/\">anaconda</a>为例，简单的说一下步骤和要点。\n国内安装anaconda建议使用<a href=\"https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/\">清华</a>镜像。</p>\n<p>前些日子，由于合规问题中科大、清华镜像都已经关闭。目前只有清华镜像恢复，所以目前可以继续使用</p>\n<h1 id=\"121-pytorch\">1.2.1 安装Pytorch</h1>\n<p>pytorch的安装经过了几次变化，请大家以官网的安装命令为准。另外需要说明的就是在1.2版本以后，pytorch只支持cuda 9.2以上了，所以需要对cuda进行升级，目前测试大部分显卡都可以用，包括笔记本的MX250也是可以顺利升级到cuda 10.1。</p>\n<p>我个人测试使用官网的安装命令进行安装时并不能安装1.3版原因未知（如果大家conda安装也有问题可以一起讨论下原因），所以这里建议大家使用pip进行安装，经过测试 pip是没有任何问题的。</p>\n<pre class=\"codehilite\"><code class=\"language-bash\">#默认 使用 cuda10.1\npip3 install torch===1.3.0 torchvision===0.4.1 -f https://download.pytorch.org/whl/torch_stable.\n\n#cuda 9.2\npip3 install torch==1.3.0+cu92 torchvision==0.4.1+cu92 -f https://download.pytorch.org/whl/torch_stable.html\n\n#cpu版本\npip3 install torch==1.3.0+cpu torchvision==0.4.1+cpu -f https://download.pytorch.org/whl/torch_stable.html</code></pre>\n\n\n<p>验证输入python 进入</p>\n<pre class=\"codehilite\"><code class=\"language-python\">import torch\ntorch.__version__\n# 得到结果'1.3.0'</code></pre>\n\n\n<h2 id=\"122-jupyter-notebook\">1.2.2 配置 Jupyter Notebook</h2>\n<p>新建的环境是没有安装安装ipykernel的所以无法注册到Jupyter Notebook中，所以先要准备下环境</p>\n<pre class=\"codehilite\"><code class=\"language-bash\">#安装ipykernel\nconda install ipykernel\n#写入环境\npython -m ipykernel install  --name pytorch --display-name &quot;Pytorch for Deeplearning&quot;</code></pre>\n\n\n<p>下一步就是定制 Jupyter Notebook</p>\n<pre class=\"codehilite\"><code class=\"language-bash\">#切换回基础环境\nactivate base\n#创建jupyter notebook配置文件\njupyter notebook --generate-config\n## 这里会显示创建jupyter_notebook_config.py的具体位置</code></pre>\n\n\n<p>打开文件，修改</p>\n<pre class=\"codehilite\"><code>c.NotebookApp.notebook_dir = '' 默认目录位置\nc.NotebookApp.iopub_data_rate_limit = 100000000 这个改大一些否则有可能报错</code></pre>\n\n\n<h2 id=\"123\">1.2.3 测试</h2>\n<p>至此 Pytorch 的开发环境安装完成，可以在开始菜单中打开Jupyter Notebook 在New 菜单中创建文件时选择<code>Pytorch for Deeplearning</code> 创建PyTorch的相关开发环境了</p>\n<h2 id=\"124\">1.2.4 问题解决</h2>\n<h3 id=\"1python\">问题1：启动python提示编码错误</h3>\n<p>删除 .python_history <a href=\"http://tantai.org/posts/install-keras-pytorch-jupyter-notebook-Anaconda-window-10-cpu/\">来源</a></p>\n<h3 id=\"2\">问题2 默认目录设置不起效</h3>\n<p>打开快捷方式，看看快捷方式是否跟这个截图一样，如果是则删除 <code>%USERPROFILE%</code> 改参数会覆盖掉notebook_dir设置，导致配置不起效</p>\n<p><img alt=\"Alt text\" src=\"pic1.png\" /></p>\n<p>如果你还发现其他问题，请直接留言</p>
